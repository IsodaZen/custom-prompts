# Custom Prompts for Claude Code

日本語 | [English](./README.md)

---

## クイックスタート

2つの簡単なステップで始められます：

```bash
# 1. プラグインとしてインストール
/plugin install custom-prompts

# 2. Claude Codeで使用
/review:security
```

これだけです！その他のインストール方法は[インストール方法](#インストール方法)をご覧ください。

---

## 概要

ソフトウェア開発のレビューを効率化する、特化型カスタムコマンド集です。各コマンドは特定の観点（セキュリティ、パフォーマンス、技術的負債など）に焦点を当て、柔軟でプロジェクトに適応可能な分析を提供します。英語版と日本語版の両方を用意しています。

## 利用可能なコマンド

### レビューコマンド

| コマンド | 用途 | 状態 |
|---------|------|------|
| `/review:security` | セキュリティ特化レビュー | ✅ 利用可能 |
| `/review:after` | 実装後の差分レビュー | ✅ 利用可能 |
| `/review:perf` | パフォーマンス分析 | ✅ 利用可能 |
| `/review:coverage` | テストカバレッジと品質分析 | ✅ 利用可能 |
| `/review:prompt` | AIプロンプト品質評価 | ✅ 利用可能 |
| `/review:note` | 文書・記事品質レビュー | ✅ 利用可能 |

### 開発ワークフローコマンド

| コマンド | 用途 | 状態 |
|---------|------|------|
| `/commit` | 自動生成フッターなしでGitコミット作成 | ✅ 利用可能 |

### `/review:security`

セキュリティ脆弱性を特定し、OWASP Top 10への対応状況を評価します。認証、認可、入力検証、インジェクション脆弱性、データ保護、シークレット管理、APIセキュリティをカバーします。

**推奨**: 認証・認可機能、外部入力処理、デプロイ前チェック、インシデント後レビュー

---

### `/review:after`

完了した変更を評価し、品質基準とデプロイメント準備状況を確認します。要件充足度、変更影響、コード品質、テストカバレッジ、ドキュメントを分析します。

**推奨**: PR作成前、マージ前チェック、リリース前品質確認

---

### `/review:perf`

パフォーマンスボトルネックを特定し、リソース使用を最適化します。アルゴリズム、データベースクエリ、メモリ管理、I/O操作、キャッシング、並行性を分析します。

**推奨**: パフォーマンス問題調査、大規模データ処理機能、APIエンドポイント、本番環境のパフォーマンス劣化

---

### `/review:coverage`

テストカバレッジと品質を分析し、包括的なテストを確保します。テスト有効性の評価、カバレッジギャップの特定、テスト容易性の評価、テストの信頼性と保守性のレビューを行います。

**推奨**: テスト品質評価、カバレッジギャップの特定、リリース前品質チェック、テスト戦略評価

---

### `/review:prompt`

大規模言語モデル向けプロンプトの品質を評価し改善します。明確性、構造、コンテキスト管理、安全性、保守性をレビューします。

**推奨**: 新規プロンプト作成、プロンプトの効果不足、保守性改善

---

### `/review:note`

文書や記事の読みやすさ、一貫性、明瞭性を評価します。誤解を招く表現、曖昧な記述、AI生成感のある文章パターンを特定することで、読者体験を優先します。単に包括的であるだけでなく、実際に読まれ理解されるコンテンツの作成に焦点を当てます。

**推奨**: ブログ記事、技術記事、ドキュメント、チュートリアル、READMEファイル、リリースノート

---

### `/commit`

Conventional Commits形式で、Claude Codeの自動生成フッターなしでGitコミットを作成します。チームの規約に準拠した、クリーンで標準化されたコミットメッセージを提供します。

**推奨**: 厳格なコミットメッセージポリシーを持つプロジェクト、クリーンなコミット履歴を好むチーム、自動changelog生成との連携

**機能**:
- Conventional Commits形式: `<type>(<scope>): <description>`
- Typeリストを提供: feat, fix, docs, style, refactor, test, chore
- 自動生成フッターなし（🤖 Generated with Claude Code...）

## インストール方法

### 方法1: プラグインとしてインストール（推奨）

Claude Codeプラグインとして直接インストール:

```bash
# プラグインマーケットプレイスからインストール
/plugin install custom-prompts
```

またはローカルクローンからインストール:

```bash
# リポジトリをクローン
git clone https://github.com/IsodaZen/custom-prompts.git

# Claude Codeで、ローカルディレクトリからインストール
/plugin install /path/to/custom-prompts
```

インストール後、確認:

```bash
/help
```

すべてのコマンドがすぐに全プロジェクトで利用可能になります。

### 方法2: 手動インストール

手動インストールを希望する場合や特定のコマンドをカスタマイズしたい場合:

**プロジェクトレベルのインストール**（チームでの共有に推奨）:

```bash
# リポジトリをクローン
git clone https://github.com/IsodaZen/custom-prompts.git
cd custom-prompts

# プロジェクトの .claude ディレクトリにコピー
cp -r commands .claude/
```

**ユーザーレベルのインストール**（すべてのプロジェクトで利用可能）:

```bash
# ユーザーの .claude ディレクトリにコピー
cp -r commands ~/.claude/
```

インストール後のディレクトリ構造:

```
your-project/
└── .claude/
    └── commands/
        ├── commit.md
        ├── review:security.md
        ├── review:after.md
        ├── review:perf.md
        ├── review:coverage.md
        ├── review:prompt.md
        └── review:note.md
```

**注意**: 日本語版（`commands-ja/`）はリポジトリ内で参照用として利用可能ですが、インストールには不要です。

## ファイル構成

```
custom-prompts/
├── .claude-plugin/       # プラグインメタデータ
│   └── plugin.json      # プラグイン設定
├── README.md              # 英語版
├── README.ja.md          # このファイル（日本語版）
├── CLAUDE.md             # Claude Code向け詳細ガイド
├── CONTRIBUTING.md       # コントリビューションガイドライン
├── commands/             # コマンドファイル（インストール用）
│   ├── commit.md
│   ├── review:security.md
│   ├── review:after.md
│   ├── review:perf.md
│   ├── review:coverage.md
│   ├── review:prompt.md
│   └── review:note.md
└── commands-ja/          # 日本語版（参照用）
    ├── commit.ja.md
    ├── review:security.ja.md
    ├── review:after.ja.md
    ├── review:perf.ja.md
    ├── review:coverage.ja.md
    ├── review:prompt.ja.md
    └── review:note.ja.md
```

## コントリビューション

貢献を歓迎します！詳細なガイドラインは [CONTRIBUTING.md](./CONTRIBUTING.md) をご覧ください：

- バグ報告と機能提案
- 新規コマンドの作成
- 既存コマンドの改善
- 開発ワークフローとテスト

クイック貢献ステップ：
1. このリポジトリをフォーク
2. フィーチャーブランチを作成 (`git checkout -b feature/amazing-prompt`)
3. [CONTRIBUTING.md](./CONTRIBUTING.md) のガイドラインに従う
4. Pull Requestを作成

## ベストプラクティス

### 1. 段階的なレビュー実施

すべてを一度にレビューするのではなく、段階的なアプローチを使用します：

1. `/review:after` - 全体の変更を確認
2. `/review:security` - 認証・認可や外部入力処理に関わる変更がある場合
3. `/review:perf` - パフォーマンス重視の機能がある場合

### 2. コーディング規約の明文化

最高品質のレビューを得るために：

- プロジェクト固有のコーディング規約を文書化
- 明確な受け入れ基準を定義
- レビュー時にこれらのドキュメントを参照

### 3. レビュー結果の活用

レビュー出力を最大限に活用：

```bash
# レビュー結果をファイルに保存（Claudeに依頼）
# タイムスタンプ付きで保存されます
# 例: review_security_20250423_143022.md

# 課題追跡システムとの連携
# GitHub Issues、Jiraなどに発見事項を転記
```

### 4. 定期的なレビュースケジュール

定期的なレビューで品質を維持：

- **週次**: 主要な変更に対して `/review:after`
- **月次**: コードベース全体に対して `/review:security`
- **リリース前**: パフォーマンス検証のために `/review:perf`

### 5. チーム内での知識共有

レビュー結果を活用してチームの知識を構築：

- レビューで発見された問題を文書化
- ベストプラクティスをWikiやドキュメントに追加
- レビュー結果を共有する定例ミーティングを開催

### 6. 継続的改善

プロジェクトの成長に合わせてプロンプトを改善：

- レビューで見逃された問題を分析
- プロンプトに新しいチェック項目を追加
- チームのフィードバックを反映

### 7. 出力形式の標準化

チーム全体でレビュー結果の形式を統一：

- ファイル出力形式を標準化
- 重大度レベルの定義を共有
- レビュー結果のテンプレートを作成

---

## FAQ

**Q1: すべてのコマンドをインストールする必要がありますか?**

A: いいえ、必要なコマンドのみを選択的にインストールできます。

**Q2: 日本語版（commands-ja/）をインストールする必要がありますか?**

A: いいえ、インストールには不要です。`commands/` ディレクトリの英語版をインストールしてください。日本語版は、コマンドの内容を日本語で確認したい場合に参照用として使用できます。どちらのバージョンを使用しても、Claudeとの会話は日本語で実施されます。

**Q3: プロジェクトレベルとユーザーレベル、どちらを使うべきですか?**

A:
- **プロジェクトレベル** (`.claude/commands/`): チームで共有したい場合、プロジェクト固有のカスタマイズをしたい場合
- **ユーザーレベル** (`~/.claude/commands/`): すべてのプロジェクトで使いたい場合、個人的なカスタマイズをしたい場合

**Q4: 同じ名前のコマンドがプロジェクトレベルとユーザーレベルの両方にある場合はどうなりますか?**

A: Claude Codeの公式仕様では、ユーザーレベルとプロジェクトレベルのコマンド間の競合はサポートされていません。どちらか一方のみにインストールしてください。

**Q5: コマンドファイルを修正した場合、Claude Codeの再起動が必要ですか?**

A: いいえ、コマンドファイルは実行時に読み込まれるため、再起動は不要です。

**Q6: 複数のプロジェクトで同じコマンドを使用できますか?**

A: はい、以下の方法があります:
- **ユーザーレベル**にインストール: すべてのプロジェクトで自動的に利用可能
- **プロジェクトレベル**にインストール: 各プロジェクトに個別にコピー、またはシンボリックリンクで管理

**Q7: `/help` コマンドでカスタムコマンドが表示されません**

A: 以下を確認してください:
- ファイルが正しいディレクトリ (`.claude/commands/` または `~/.claude/commands/`) に配置されているか
- ファイル名が `.md` 拡張子で終わっているか
- ファイルにフロントマター（`---` で囲まれた部分）が含まれているか

**Q8: 技術スタックが正しく認識されません**

A:
- README.mdに技術スタック情報を追加してください
- プロジェクトルートに設定ファイル（package.json、requirements.txtなど）があることを確認してください
- 技術スタックに関するClaudeの質問に正確に回答してください
- Claudeは設定ファイルから自動検出できない場合に質問します

**Q9: レビュー結果が表面的すぎます**

A:
- コーディング規約ドキュメントを提供すると、包括的なレビューが得られます
- レビュー範囲をより具体的に指定してください（ファイルやディレクトリ単位）
- 大規模なコードベースの場合は、複数回に分けてレビューを実施してください
- コーディング規約なしの場合、レビューはCritical/High重大度の問題のみに焦点を当てます

**Q10: コマンドファイルを更新しましたが、変更が反映されません**

A:
- ファイルの内容を確認: `cat .claude/commands/review:security.md`
- ファイルのタイムスタンプを確認: `ls -l .claude/commands/review:security.md`
- 問題が続く場合はClaude Codeを再起動（通常は不要、コマンドは実行時に読み込まれます）
- ファイルが正しいエンコーディング（UTF-8）で保存されていることを確認してください

## ライセンス

MIT License

## 作者

[@IsodaZen](https://github.com/IsodaZen)
